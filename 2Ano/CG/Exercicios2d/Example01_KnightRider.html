<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Knight Rider</title>
  <style>
    html,
    body {
      width: 100%;
      height: auto;
      background: #333333;
    }

    canvas {
      margin: auto;
      position: absolute;
      top: 0;
      bottom: 0;
      left: 0;
      right: 0;
    }
  </style>
</head>

<body>
  <canvas id="myCanvas" width="600" height="50" style="border:solid 3px black"></canvas>

  <script>
    const canvas = document.querySelector("#myCanvas");
    const ctx = canvas.getContext("2d");
    let running = false;

    //CANVAS SIZE
    const W = canvas.width, H = canvas.height;

    let x = 0; 
    let moveRight = true;

    function render() {

      ctx.clearRect(0, 0, W, H);  // clear canvas

      ctx.fillStyle = getRandomColor(); // get a random color

      ctx.fillRect(x, 0, 50, 50); // draw the square
      if (moveRight) {
        x += 10; // move right
        ctx.fillStyle = "rgba(51, 51, 51, 0.3)"; 
        ctx.fillRect(x-1, 0, 50, 50); // draw the square
      if (x === 550) { // if it goes out of bounds
          moveRight = false; // change direction
        }
      }
      if (!moveRight) {
        x -= 10; // move left
        if (x === 0) { // if it goes out of bounds
          moveRight = true; // change direction
        }
      }
      requestAnimationFrame(render);  // request next frame
    }

    window.onload = function () {
      render();
    };


    //helper function
    function getRandomColor() {
      let r = Math.floor(Math.random() * 256);
      let g = Math.floor(Math.random() * 256);
      let b = Math.floor(Math.random() * 256);

      return `rgb(${r},${g},${b})`;
    }

  </script>
</body>

</html>